
<!doctype html><html lang="es"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asignaciones</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"></head>
<body class="container py-4">
<h2>Asignaciones</h2>
<table class="table table-hover">
  <thead><tr><th>ID</th><th>MÃ¡quina</th><th>Tipo</th><th>Periodicidad</th><th>Fecha</th><th>Asignado</th><th></th></tr></thead>
  <tbody>
    <tr th:each="m : ${mttos}">
      <td th:text="${m.id}"></td>
      <td th:text="${m.maquina.codigo} + ' - ' + ${m.maquina.nombre}"></td>
      <td th:text="${m.tipo}"></td>
      <td th:text="${m.periodicidad}"></td>
      <td th:text="${m.fechaProgramada}"></td>
      <td th:text="${m.asignadoA != null ? m.asignadoA.nombre : 'Sin asignar'}"></td>
      <td>
        <form th:action="@{'/lider/mttos/' + ${m.id} + '/asignar'}" method="post" class="d-flex gap-2">
          <select class="form-select" name="tecnicoId">
            <option th:each="t : ${tecnicos}" th:value="${t.id}" th:text="${t.nombre}"></option>
          </select>
          <button class="btn btn-sm btn-primary">Asignar</button>
        </form>
      </td>
    </tr>
  </tbody>
</table>
</body></html>
